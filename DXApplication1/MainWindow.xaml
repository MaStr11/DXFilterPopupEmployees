<dx:ThemedWindow 
    x:Class="DXApplication1.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
	xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
	xmlns:local="clr-namespace:DXApplication1"
	Title="MainWindow" Height="800" Width="1000">
	<dx:ThemedWindow.DataContext>
		<local:ViewModel/>
	</dx:ThemedWindow.DataContext>
	<dx:ThemedWindow.Resources>
		<DataTemplate x:Key="employeeFilter">
			<StackPanel>
				<dxg:GridControl ItemsSource="{x:Static local:Teams.AllTeams}">
					<dxg:GridControl.View>
						<dxg:TreeListView/>
					</dxg:GridControl.View>
				</dxg:GridControl>
			</StackPanel>
		</DataTemplate>
	</dx:ThemedWindow.Resources>
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="*" />
			<RowDefinition Height="*" />
		</Grid.RowDefinitions>
		<dxg:GridControl Grid.Row="0" ItemsSource="{Binding Path=OrderItems}">
			<dxg:GridControl.View>
				<dxg:TableView/>
			</dxg:GridControl.View>
			<dxg:GridColumn FieldName="Id" IsSmart="True"/>
			<dxg:GridColumn FieldName="AssignedTo.Name" Header="Zugewiesen an" FilterPopupMode="Custom" CustomColumnFilterPopupTemplate="{StaticResource employeeFilter}"/>

		</dxg:GridControl>
		<dxg:TreeListControl Grid.Row="1" ItemsSource="{x:Static local:Teams.AllTeams}" SelectionMode="MultipleRow">
			<dxg:TreeListControl.Resources>
				<HierarchicalDataTemplate DataType="{x:Type local:Team}" ItemsSource="{Binding Path=Members}">
					<ContentPresenter x:Name="defaultRowPresenter" Content="{Binding}" ContentTemplate="{Binding View.DefaultDataRowTemplate}" />
				</HierarchicalDataTemplate>
				<DataTemplate DataType="{x:Type local:Employee}">
					<dx:MeasurePixelSnapper>
						<ContentPresenter x:Name="defaultRowPresenter" Content="{Binding}" ContentTemplate="{Binding View.DefaultDataRowTemplate}" />
					</dx:MeasurePixelSnapper>
				</DataTemplate>
			</dxg:TreeListControl.Resources>
			<dxg:TreeListControl.View>
				<dxg:TreeListView AllowRecursiveNodeChecking="True" ShowCheckboxes="True" TreeDerivationMode="HierarchicalDataTemplate"/>
			</dxg:TreeListControl.View>
			<dxg:TreeListColumn FieldName="Id" IsSmart="True"/>
			<dxg:TreeListColumn FieldName="Name" IsSmart="True"/>
		</dxg:TreeListControl>

	</Grid>
</dx:ThemedWindow>
